#pragma once
namespace MapGIS
{
	namespace Tile
	{
		//================================================================================
		/// 模型属性JSON文件处理类
		/// 处理属性数据与JSON格式之间的转换操作
		//================================================================================
		class Ci_ModelAttributeJsonFile
		{
		public:
			//================================================================================
			/// 从字节数组加载数据
			///
			/// @param [in] value 输入字节数组
			/// @return 操作结果
			///         - gisLONG > 0：加载成功
			///         - gisLONG <= 0：加载失败
			//================================================================================
			virtual gisLONG From(const CGByteArray& value) { m_data = value; return 1; };

			//================================================================================
			/// 将数据保存到字节数组
			///
			/// @param [out] value 输出字节数组
			/// @return 操作结果
			///         - gisLONG > 0：保存成功
			///         - gisLONG <= 0：保存失败
			//================================================================================
			virtual gisLONG To(CGByteArray& value) { value = m_data; return 1; };

			//================================================================================
			/// 获取数据字节数组
			///
			/// @return 数据字节数组指针
			//================================================================================
			virtual const CGByteArray* Get() { return &m_data; };

			//================================================================================
			/// 从图层属性对象转换为JSON格式数据
			///
			/// @param [in] attribute 输入图层属性对象
			/// @return 操作结果
			///         - gisLONG > 0：转换成功
			///         - gisLONG <= 0：转换失败
			//================================================================================
			gisLONG From(LayerAttribute& attribute);

			//================================================================================
			/// 从JSON格式数据转换为图层属性对象
			///
			/// @param [out] attribute 输出图层属性对象
			/// @return 操作结果
			///         - gisLONG > 0：转换成功
			///         - gisLONG <= 0：转换失败
			//================================================================================
			gisLONG To(LayerAttribute& attribute);

		public:
			CGByteArray m_data;    // 数据字节数组
		};
	}
}